(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2113)}])},2113:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return pages}});var n,a,i=s(5893),l=s(7294),r=s(425),c=s(3454);s(9738).config;let o=c.env.DG_KEY;var components_Long=()=>{let e="",[t,s]=(0,l.useState)(!1),[r,c]=(0,l.useState)(""),[d,p]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),stopRec=async()=>{t&&n&&"inactive"!==n.state&&(n.stop(),n.stream.getTracks().forEach(e=>e.stop())),s(!1)},deepGramAudio2text=()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{if(!MediaRecorder.isTypeSupported("audio/webm"))return alert("Browser not supported");n=new MediaRecorder(t,{mimeType:"video/webm"});let s=new WebSocket("wss://api.deepgram.com/v1/listen",["token",o]);s.onopen=()=>{n.addEventListener("dataavailable",async e=>{e.data.size>0&&1==s.readyState&&s.send(e.data)})},n.start(1100),console.log("started"),s.onmessage=async t=>{let s=JSON.parse(t.data);if(s.channel&&s.channel.alternatives&&s.channel.alternatives.length>0){let t=s.channel.alternatives[0].transcript;t&&s.is_final&&(console.log(a=e=e.concat(" "+t)),c(a))}}})};(0,l.useEffect)(()=>{t&&deepGramAudio2text()},[t]);let x=r.split(" ");return x.slice(-2),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"homePage",children:[(0,i.jsx)("a",{href:"https://deepgram.com",target:"_blank",children:"Deepgram AI \uD83E\uDD16"}),(0,i.jsxs)("div",{style:{display:u?"block":"none"},children:[(0,i.jsx)("p",{className:"rotatingText-adjective hide",children:x.slice(-14,-7).map(e=>e+" ")}),(0,i.jsx)("p",{className:"rotatingText-adjective show",children:x.slice(-7).map(e=>e+" ")})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:x.slice(-14,-7).map(e=>e+" ")}),(0,i.jsxs)("div",{style:{display:"flex",marginTop:"5px"},children:[(0,i.jsx)("p",{children:x.slice(-7,-2).map(e=>e+" ")}),"\xa0#"]})]}),(0,i.jsx)("button",{onClick:()=>{s(!0),c("")},type:"button",id:"start",children:"Start"}),(0,i.jsx)("button",{onClick:stopRec,type:"button",id:"stop",children:"Stop"}),(0,i.jsxs)("p",{children:["click ",(0,i.jsx)("a",{href:"#start",children:"start"})," button speak, wait, finaly click"," ",(0,i.jsx)("a",{href:"#stop",children:"stop"})," button"]}),(0,i.jsx)("p",{children:(0,i.jsx)("a",{onClick:()=>p(e=>!e),children:d?"hide cc":"show cc"})}),(0,i.jsx)("p",{children:(0,i.jsx)("a",{onClick:()=>h(e=>!e),children:d?"hide animation":"show animation"})})]}),(0,i.jsx)("textarea",{className:"textarea",type:"text",value:r,readOnly:!0,style:{display:d?"block":"none"}})]})};s(3558);var pages=()=>{let{theme:e}=(0,r.F)(),[t,s]=(0,l.useState)(!1),n=(0,l.useRef)(null),a=(0,l.useRef)(null),isScrollable=()=>{let{current:e}=n,{current:t}=a;return(null==e?void 0:e.scrollWidth)>=(null==t?void 0:t.offsetWidth)?s(!1):s(!0)};return(0,l.useEffect)(()=>(isScrollable(),window.addEventListener("resize",isScrollable),()=>{window.removeEventListener("resize",isScrollable)})),(0,i.jsx)("div",{className:"flex justify-center sm:px-2 p-2",children:(0,i.jsx)("div",{className:"w-full minmd:w-4/5",children:(0,i.jsx)("div",{children:(0,i.jsx)(components_Long,{})})})})}},6647:function(){}},function(e){e.O(0,[714,429,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);