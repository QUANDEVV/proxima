(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2113)}])},2113:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return pages}});var a,n,l=s(5893),i=s(7294),c=s(425);s(9738).config;var components_Long=()=>{let e="",[t,s]=(0,i.useState)(!1),[c,r]=(0,i.useState)(""),[o,d]=(0,i.useState)(!1),[p,u]=(0,i.useState)(!1),stopRec=async()=>{t&&a&&"inactive"!==a.state&&(a.stop(),a.stream.getTracks().forEach(e=>e.stop())),s(!1)},deepGramAudio2text=()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{if(!MediaRecorder.isTypeSupported("audio/webm"))return alert("Browser not supported");a=new MediaRecorder(t,{mimeType:"video/webm"});let s=new WebSocket("wss://api.deepgram.com/v1/listen",["token","df110504b5249be49b9547cb6db6dea3a1906637"]);s.onopen=()=>{a.addEventListener("dataavailable",async e=>{e.data.size>0&&1==s.readyState&&s.send(e.data)})},a.start(1100),console.log("started"),s.onmessage=async t=>{let s=JSON.parse(t.data);if(s.channel&&s.channel.alternatives&&s.channel.alternatives.length>0){let t=s.channel.alternatives[0].transcript;t&&s.is_final&&(console.log(n=e=e.concat(" "+t)),r(n))}}})};(0,i.useEffect)(()=>{t&&deepGramAudio2text()},[t]);let m=c.split(" ");return m.slice(-2),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"homePage",children:[(0,l.jsx)("h1",{className:"font-poppins dark:text-white text-nft-black-1 text-2xl minlg:text-2xl font-semibold ml-4 xs:ml-0",children:"Virtual a.i"}),(0,l.jsxs)("div",{style:{display:p?"block":"none"},className:"mt-6",children:[(0,l.jsx)("p",{className:"rotatingText-adjective hide",children:m.slice(-14,-7).map(e=>e+" ")}),(0,l.jsx)("p",{className:"rotatingText-adjective show",children:m.slice(-7).map(e=>e+" ")})]}),(0,l.jsxs)("div",{className:"font-Epilogue",children:[(0,l.jsx)("p",{children:m.slice(-14,-7).map(e=>e+" ")}),(0,l.jsxs)("div",{style:{display:"flex",marginTop:"5px"},children:[(0,l.jsx)("p",{className:"font-Epilogue mt-6 ml-3",children:m.slice(-7,-2).map(e=>e+" ")}),"\xa0"]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("button",{onClick:()=>{s(!0),r("")},type:"button",id:"start",className:"ml-3",children:"Start"}),(0,l.jsx)("button",{onClick:stopRec,type:"button",id:"stop",className:"ml-2",children:"Stop"})]})]}),(0,l.jsx)("textarea",{className:"textarea font-Epilogue",type:"text",value:c,readOnly:!0,style:{display:o?"block":"none"}})]})};s(3558);var pages=()=>{let{theme:e}=(0,c.F)(),[t,s]=(0,i.useState)(!1),a=(0,i.useRef)(null),n=(0,i.useRef)(null),isScrollable=()=>{let{current:e}=a,{current:t}=n;return(null==e?void 0:e.scrollWidth)>=(null==t?void 0:t.offsetWidth)?s(!1):s(!0)};return(0,i.useEffect)(()=>(isScrollable(),window.addEventListener("resize",isScrollable),()=>{window.removeEventListener("resize",isScrollable)})),(0,l.jsx)("div",{className:"flex justify-center sm:px-2 p-2",children:(0,l.jsx)("div",{className:"w-full minmd:w-4/5",children:(0,l.jsx)("div",{children:(0,l.jsx)(components_Long,{})})})})}},6647:function(){}},function(e){e.O(0,[714,429,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);